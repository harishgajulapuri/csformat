<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Ruby-1.8.7 | Codingarena]]></title>
  <link href="http://manusajith.github.io/blog/categories/ruby-1-dot-8-7/atom.xml" rel="self"/>
  <link href="http://manusajith.github.io/"/>
  <updated>2014-01-20T20:15:29+05:30</updated>
  <id>http://manusajith.github.io/</id>
  <author>
    <name><![CDATA[Manu S Ajith]]></name>
    <email><![CDATA[neo@codingarena.in]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Fix for ruby 1.8.7 incompatibity - undefined method for Enumerable bug]]></title>
    <link href="http://manusajith.github.io/blog/2013/11/25/fix-for-ruby-1-dot-8-7-incompatibity-undefined-method-for-enumerable-bug/"/>
    <updated>2013-11-25T13:55:31+05:30</updated>
    <id>http://manusajith.github.io/blog/2013/11/25/fix-for-ruby-1-dot-8-7-incompatibity-undefined-method-for-enumerable-bug</id>
    <content type="html"><![CDATA[<p>Recently I was working on a Rails 1.1.2 application which used Ruby version 1.8.6. I was trying to make the application work on Ruby 1.8.7, but I found that my 1.1.2 application developed in ruby 1.8.6 are not working in ruby 1.8.7.</p>

<p>The attachment_fu plugin was throwing a weird error,</p>

<pre><code>undefined method `[]' for #&lt;Enumerable::Enumerator:0xb70a72d0&gt;
</code></pre>

<p>and it was really hard to find what was causing the issue.</p>

<!--more -->


<p>From lot of search on google, I found that its issue with ruby 1.8.7 incomatibility. There is an incompatibility issue between Ruby 1.8.7â€™s String#chars method and the way ActiveSupport::Multibyte::Chars works.</p>

<p>Then, I started searching fix / solution for this incompatibity.
And, Finally I got solution.</p>

<p>If you use any ActionView helper methods such as truncate and also happen to be running ruby 1.8.7 with Rails > 2.0.2 Insert this into the top of your environment.rb:</p>

<pre><code>unless '1.9'.respond_to?(:force_encoding) 
  String.class_eval do 
   begin 
    remove_method :chars 
   rescue NameError 
    # OK 
   end 
 end
end
</code></pre>

<p>&mdash;</p>

<p>Manu S Ajith</p>

<p><a href="http://twitter.com/manusajith/" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith/" title="Twitter">Git</a></p>
]]></content>
  </entry>
  
</feed>
