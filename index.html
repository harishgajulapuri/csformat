

<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Codingarena</title>
  <meta name="author" content="Manu S Ajith">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content=" This is where I scribble other than codes ">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://manusajith.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Codingarena" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="Codingarena" />
  <meta name="og:title" content="Codingarena" />
  <meta name="og:description" content=" This is where I scribble other than codes " />
  <meta name="og:url" content="http://manusajith.github.io/index.html"/>
  <meta name="url" content="http://manusajith.github.io/index.html">
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30559513-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div id="front-wrapper">
  <div id="hero">
    <div id="hero-inner" class="container">
      <div class="span10 offset1">
  <h1>
    Codingarena
  </h1>
  <h2>Personal blog of Manu S Ajith</h2>
</div>

    </div>
  </div>
  <section id="sub-hero">
    <div class="container">
      <div class="row">
  <div class="span4">
    <h2>About me</h2>
<p>I&#8217;m 23 years old, from the &#8220;Venice of the East&#8221;, the very own &#8220;Gods own country&#8221;, Kerala, who codes Ruby on Rails for a living, hacks for fun and learns for passion</p>

  </div>
  <div class="span6">
    
<h2>recent public projects</h2>
<dl id="gh_repos" class="dl-horizontal" data-github-user="manusajith" data-github-repo-count="0" data-github-skip-forks="true">
  <dd class="loading">Status updating&#8230;</dd>
</dl>
<script src="/javascripts/github.js" type="text/javascript"> </script>
<script src="/javascripts/libs/jXHR.js" type="text/javascript"> </script>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/manusajith/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>





<a href="http://www.linkedin.com/in/manusajith" rel="tooltip" title="Linkedin"><img class="social_icon" title="Linkedin" alt="Linkedin icon" src="/images/glyphicons_377_linked_in.png"></a>



<a href="http://twitter.com/manusajith" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>



<a href="https://plus.google.com/110007023591027468321?rel=author" rel="tooltip" title="Google Plus"><img class="social_icon" title="Google Plus" alt="Google Plus icon" src="/images/glyphicons_386_google_plus.png"></a>





<h2>contact at</h2>
<a href="mailto:neo@codingarena.in">neo@codingarena.in</a>


  </div>
</div>

    </div>
  </section>
  <div class="container">
    <div class="row" id="post-container">
    
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/08/pdf-generation-in-rails-with-wicked_pdf/">PDF Generation in Rails</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2013-04-08T00:00:00+05:30" pubdate data-updated="true">Apr 8<span>th</span>, 2013</time> - 
        


        
         | <a href="/blog/2013/04/08/pdf-generation-in-rails-with-wicked_pdf/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently my friend was working on a project that had a requirement to export the html page to PDF. He had some issues setting this up. So I thought I would write this article, so that it will be helpful for  anyone who faces the same issue. It’s easy getting your pdf in rails as long as you follow the right steps ;) (But unfortunately my good friend doesnt always do that for some reason of his own &ndash; No offense intended ;) )</p>

<p>If you are using Rails, then you have this wonderful <a href="http://rubygems.org">rubygems</a> where you can find a no of gems for pdf generation. The suggested ones are <a href="http://rubygems.org/gems/prawn">prawn</a> and <a href="http://rubygems.org/gems/wicked_pdf">wicked_pdf</a>.</p>

<h2>Which one to chose ?</h2>

<p>For me wicked_pdf is very simple to understand and it gets your job done very quickly if you follow all the right steps, while Prawn restricts you to the old table, grids layout. But ultimately its you who will have to decide which to use depending upon your specific requirements.</p>

<p>I will be using wicked_pdf and ubuntu.</p>

<h2>Wicked_pdf</h2>

<p>Wicked_pdf uses a shell utility <a href="http://code.google.com/p/wkhtmltopdf/">Wkhtmltopdf</a>  to serve a PDF file to a user from a HTML page. In other words, rather than dealing with a PDF generation DSL of some sort, you simply write an HTML view as you would normally, then let Wicked take care of the hard stuff</p>

<h2>Now what is wkhtmltopdf ?</h2>

<p><a href="http://code.google.com/p/wkhtmltopdf" >Wkhtmltopdf</a> is an c++ executable that <a href="https://github.com/mileszs/wicked_pdf" >wicked_pdf</a><span > gem essentialy wraps. It works great for pdf generation of tables reports etc. The WK in wkhtmltopdf stands for webkit which is the browser engine that is used to render HTML and java-script  Chrome uses this same engine.</p>

<p>Installing it simply via</p>

<pre><code>sudo apt-get install wkhtmltopdf
</code></pre>

<p>on Ubuntu will install a reduced functionality version which is probably not what you want. According to the manual the reduced functionality version does not include the following features.
Printing more then one HTML document into a PDF file. </p>

<p>Running without an X11 server. 
Adding a document outline to the PDF file. 
Adding headers and footers to the PDF file.
Generating a table of contents. 
Adding links in the generated PDF file. 
Printing using the screen media-type. 
Disabling the smart shrink feature of webkit. 
If you need any of these, then you need to setup the static version of wkhtmltopdf.
First check OS is 32 bit or 64 bit by using following command
Try</p>

<pre><code>    uname -m
</code></pre>

<p>Run following command for installing dependencies.</p>

<pre><code>    sudo apt-get install openssl build-essential xorg libssl-dev libxrender-dev
</code></pre>

<p>Based on OS download wkhtmltopdf package from following site
<a href=" http://code.google.com/p/wkhtmltopdf/downloads/list"><a href="http://code.google.com/p/wkhtmltopdf/downloads/list">http://code.google.com/p/wkhtmltopdf/downloads/list</a></a></p>

<p>Then extract using command</p>

<pre><code>    tar xvjf wkhtmltopdf-0.11.0_rc1-static-amd64.tar.bz2
</code></pre>

<p>Then move extracted DIR to usr/local/bin folder</p>

<pre><code>    sudo mv wkhtmltopdf-0.11.0_rc1-static-amd64 /usr/local/bin/wkhtmltopdf
</code></pre>

<p>Check wkhtmltopdf is installed or not using following command</p>

<pre><code>    which wkhtmltopdf
</code></pre>

<h2>Using wicked_pdf in your Rails app</h2>

<p>Add this to your Gemfile</p>

<pre><code>    gem 'wicked_pdf'
</code></pre>

<p>You may also need to add the following to your config/initializers/mime_types.rb</p></p>

<pre><code>    Mime::Type.register "application/pdf", :pdf
</code></pre>

<h2>Basic Usage:</h2>

<pre><code>class Invoice &lt; ApplicationController
  def show
    respond_to do |format|
      format.html
      format.pdf do
        render :pdf =&gt; "invoice"
      end
    end
  end
end
</code></pre>

<p>If you need to include stylesheets and javascript inside the generated document, the wicked_pdf gem has helpers for that</p>

<pre><code>    &lt;%= wicked_pdf_stylesheet_link_tag "pdf_stylesheet" -%&gt;
    &lt;%= wicked_pdf_javascript_include_tag "pdf_javascript" %&gt;
</code></pre>

<h2>Some tweaks and tips</h2>

<p>If you need to hide some links in your generated PDF document then you can use a custom stylesheet which defines the properties for print media and can include the same using the above helper method.</p>

<p>Eg: You have a button on your html page and you dont want that to be displayed when you generate the PDF.</p>

<p>If you have the following link with css selector &ldquo;print_friendly&rdquo;</p>

<pre><code>    &lt;%= link_to "Print" , "http://example.com/download", :id=&gt;"print_friendly" %&gt;
</code></pre>

<p>and have a stylesheet with the css properties for print media as</p>

<pre><code>    @media print {
      #print_friendly{
      display:hidden;
      }
    }
</code></pre>

<p>then the link wont be visible inside the generated PDF document</p>

<p>If your page has a lot of javascript and needs longer time for rendering then you can add the following the wicked_pdf</p>

<pre><code>    wkhtmltopdf.exe --javascript-delay 15000 http://example.com/downloads
</code></pre>

<h2>Some common Issues</h2>

<h3>1. Runtime Error</h3>

<p>RuntimeError in XxxxController#show</p>

<p>Failed to execute: /usr/bin/wkhtmltopdf &mdash;print-media-type -q &ndash; &ndash; Error: PDF could not be generated!</p>

<pre><code>Rails.root: /apps/rails/show
</code></pre>

<p>Check the location of your wkhtmltopdf using which wkhtmltopdf and also run a bundle update command as sometimes your gem in gemfile would be configured with the wrong path.</p>

<h3>2. Is wkhtmltopdf-binary necessary to generated PDF files ?</h3>

<p>No</p>

<p>If you have installed the system libraries and have configured the path correctly in your app correctly, you dont need to install he wkhtmltopdf-binary gem seperately.</p>

<h3>3. Wicked_pdf not rendering graphs with HighCharts</h3>

<p>Wkhtmltopdf doesn&rsquo;t handle transparency/shadows properly and can result in unpredictable results. So the workaround is to add the following options to yo2ur highcharts</p>

<pre><code>        f.options[:plotOptions][:line] = :animation =&gt; false, :shadow =&gt; false, :enableMouseTracking =&gt; false
</code></pre>

<h4>As I said earlier it’s easy getting your pdf in rails as long as you follow the right steps ;)</h4>

<p>[Reposting my <a href="http://rubykitchen.in/blog/2013/03/17/pdf-generation-with-rails" title="Article" target="_blank">article</a> from <a href="http://rubykitchen.in" title="Ruby Kitchen " target="_blank">Ruby Kitchen</a> <a href="http://rubykitchen.in/blog" title="Blog" target="_blank">Blog</a><br /></p>

<p><a href="http://facebook.com/manusajith">Manu</a></p>

<p><a href="http://www.codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/22/google-code-jam/">Google Code Jam</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2012-11-22T00:00:00+05:30" pubdate data-updated="true">Nov 22<span>nd</span>, 2012</time> - 
        


        
         | <a href="/blog/2012/11/22/google-code-jam/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://code.google.com/codejam/" title="Code Jam" target="_blank">Google Code Jam </a> is an international programming competition hosted and administered by <a href="http://google.com" title="Google" target="_blank">Google</a>. The competition began in 2003 as a means to identify top engineering talent for potential employment at Google. The competition consists of a set of algorithmic problems which must be solved in a fixed amount of time. Competitors may use any programming language and development environment to obtain their solutions.</p>

<p>In 2013, Google Code Jam will mark its tenth year of bringing the world&rsquo;s coding community together to solve tough algorithmic puzzles.</p>

<p>Schedule for Google Code Jam 2013 is</p>

<p>Date    Time (UTC)* Duration    Description
Tuesday, March 12, 2013
Ends: Sunday, April 14 at 00:00 UTC 19:00 UTC   32d 5hr Registration
Friday, April 12, 2013  23:00 UTC   25hr    Qualification Round
Saturday, April 27, 2013    01:00 UTC   2hr 30min   Online Round 1: Sub-Round A
Saturday, May 4, 2013   16:00 UTC   2hr 30min   Online Round 1: Sub-Round B
Sunday, May 12, 2013    09:00 UTC   2hr 30min   Online Round 1: Sub-Round C
Saturday, June 1, 2013  14:00 UTC   2hr 30min   Online Round 2
Saturday, June 15, 2013 14:00 UTC   2hr 30min   Online Round 3
Friday, August 16, 2013 TBD TBD Onsite Finals</p>

<p>You can find previous questions for practice and its answers at my <a href="http://github.com/manusajith" title="Github" target="_blank">github</a> <a href="https://github.com/manusajith/codejam-google-2012" title="Google Code Jam 2012 Solved Repo" target="_blank">repo</a></p></p>

<p><a href="http://facebook.com/manusajith">Manu</a></p>

<p><a href="http://www.codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/30/154-server-monotoring-script/">Simple Server Monitoring Shell Script</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2012-10-30T00:00:00+05:30" pubdate data-updated="true">Oct 30<span>th</span>, 2012</time> - 
        


        
         | <a href="/blog/2012/10/30/154-server-monotoring-script/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>A simple shell script to monitor whether your server is running or not.</h2>

<p>This script should be made to run on some other server, because when your server goes down all the scripts will stop executing too, so there is no point in running the script on the same server.</p>

<h3>Create a new file</h3>

<pre><code>vim servermonitor.sh
</code></pre>

<p>Add the following contents to the file and save it.</p>

<pre><code>if curl -s --head http://codingarena.in | grep "200 OK" &gt; /dev/null
    then
        echo "Server running" &gt; /dev/null
else
        echo " Server Down at" `date` &gt; $PWD/time
    curl -s --head http://codingarena.in/ &gt; $PWD/failed
        mail -s "Server Down " neo@codingarena.in &lt; $PWD/failed
fi
</code></pre>

<p>Next make the file executable by:</p>

<pre><code>chmod u+x servermonitor.sh
</code></pre>

<p>Now add a new entry to your cron job to execute the script for the interval of time specified.</p>

<p>I am going to run it every 5 minutes, so</p>

<pre><code>crontab -e
</code></pre>

<p>and add</p>

<pre><code>*/5 * * * * /path_to_file/monitor.sh
</code></pre>

<p>Save the file.</p>

<p>And thats it. whenever your server goes down you will get a mail alert.</p>

<p>Fork the code at <a href="https://github.com/manusajith/simple_server_monitor"> Github</a> | <a href="https://bitbucket.org/manusajith/simple_server_monitor">Bitbucket</a></p>

<p><a href="http://facebook.com/manusajith">Manu</a></p>

<p><a href="http://www.codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/12/reset-root-password-in-xampp/">Reset Root Password in XAMPP</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2012-09-12T00:00:00+05:30" pubdate data-updated="true">Sep 12<span>th</span>, 2012</time> - 
        


        
         | <a href="/blog/2012/09/12/reset-root-password-in-xampp/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In case you forgot your root password for mysql and phpmyadmin</p>

<p>Go to your xampp\mysql\bin\ folder</p>

<p>Edit my.ini and insert</p>

<pre><code>skip-grant-tables
</code></pre>

<p>below [mysqld]</p>

<p>Restart MySQL</p>

<p>Set new password for your root user by running</p>

<pre><code>UPDATE mysql.user SET Password=PASSWORD('new_password') WHERE User='root'
</code></pre>

<p>in phpMyAdmin in the mysql database (or just leave it like this if MySQL cannot be accessed from remote hosts)</p>

<p><a href="http://facebook.com/manusajith">Manu</a></p>

<p><a href="http://www.codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/01/ubuntu-bonding-and-link-aggregation/">Ubuntu Bonding and Link Aggregation</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2012-09-01T00:00:00+05:30" pubdate data-updated="true">Sep 1<span>st</span>, 2012</time> - 
        


        
         | <a href="/blog/2012/09/01/ubuntu-bonding-and-link-aggregation/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Installation</h2>

<p>ifenslave is used to attach and detach slave network interfaces to a bonding device.</p>

<pre><code>sudo apt-get install ifenslave
</code></pre>

<h2>Interface Configuration</h2>

<p>Edit your interfaces configuration:</p>

<pre><code> sudo vi /etc/network/interfaces
</code></pre>

<p>For example, to combine eth0 and eth1 as slaves to your bonding interface:</p>

<pre><code>   auto eth0
   iface eth0 inet manual
   bond-master bond0

   auto eth1
   iface eth1 inet manual
   bond-master bond0

   auto bond0
   iface bond0 inet static
   address 192.168.1.10
   gateway 192.168.1.1
   netmask 255.255.255.0
   bond-mode 802.3ad
   bond-miimon 100
   bond-lacp-rate 1
   bond-slaves none
</code></pre>

<h2>Checking the bonding interface</h2>

<p>Link information is available under     /proc/net/bonding/.
To check bond0 for example:</p>

<pre><code>cat /proc/net/bonding/bond0
Ethernet Channel Bonding Driver: v3.5.0 (November 4, 2008)

Bonding Mode: IEEE 802.3ad Dynamic link aggregation
Transmit Hash Policy: layer2 (0)
MII Status: up
MII Polling Interval (ms): 100
Up Delay (ms): 0
Down Delay (ms): 0

802.3ad info
LACP rate: fast
Aggregator selection policy (ad_select): stable
bond bond0 has no active aggregator

Slave Interface: eth1
MII Status: up
Link Failure Count: 0
Permanent HW addr: 00:0c:29:f5:b7:11
Aggregator ID: N/A

Slave Interface: eth2
MII Status: up
Link Failure Count: 0
Permanent HW addr: 00:0c:29:f5:b7:1b
Aggregator ID: N/A
</code></pre>

<h2>Bringing up/down Bounded interface</h2>

<p>To bring the bounded interface, run</p>

<pre><code>ifup bond0
</code></pre>

<p>To bring down a bounded interface, run</p>

<pre><code>ifdown bond0
</code></pre>

<h2>Ethernet Bonding modes</h2>

<p>Ethernet bonding has different modes you can use. You specify the mode for your bonding interface in /etc/network/interfaces. For example:</p>

<pre><code>bond-mode active-backup
</code></pre>

<p>Descriptions of bonding modes</p>

<pre><code>Mode 0
balance-rr
</code></pre>

<p>Round-robin policy: Transmit packets in sequential order from the first available slave through the last. This mode provides load balancing and fault tolerance.</p>

<p>Mode 1
active-backup</p>

<p>Active-backup policy: Only one slave in the bond is active. A different slave becomes active if, and only if, the active slave fails. The bond&rsquo;s MAC address is externally visible on only one port (network adapter) to avoid confusing the switch. This mode provides fault tolerance. The primary option affects the behavior of this mode.</p>

<p>Mode 2
balance-xor</p>

<p>XOR policy: Transmit based on [(source MAC address XOR&rsquo;d with destination MAC address) modulo slave count]. This selects the same slave for each destination MAC address. This mode provides load balancing and fault tolerance.</p>

<p>Mode 3
broadcast</p>

<p>Broadcast policy: transmits everything on all slave interfaces. This mode provides fault tolerance.</p>

<p>Mode 4
802.3ad</p>

<p>IEEE 802.3ad Dynamic link aggregation. Creates aggregation groups that share the same speed and duplex settings. Utilizes all slaves in the active aggregator according to the 802.3ad specification.</p>

<h2>Prerequisites:</h2>

<p>Ethtool support in the base drivers for retrieving the speed and duplex of each slave.
A switch that supports IEEE 802.3ad Dynamic link aggregation. Most switches will require some type of configuration to enable 802.3ad mode.
Mode 5
balance-tlb</p>

<p>Adaptive transmit load balancing: channel bonding that does not require any special switch support. The outgoing traffic is distributed according to the current load (computed relative to the speed) on each slave. Incoming traffic is received by the current slave. If the receiving slave fails, another slave takes over the MAC address of the failed receiving slave.</p>

<h2>Prerequisites:</h2>

<p>Ethtool support in the base drivers for retrieving the speed of each slave.
Mode 6
balance-alb</p>

<p>Adaptive load balancing: includes balance-tlb plus receive load balancing (rlb) for IPV4 traffic, and does not require any special switch support. The receive load balancing is achieved by ARP negotiation. The bonding driver intercepts the ARP Replies sent by the local system on their way out and overwrites the source hardware address with the unique hardware address of one of the slaves in the bond such that different peers use different hardware addresses for the server.</p>

<p><a href="http://facebook.com/manusajith">Manu</a></p>

<p><a href="http://www.codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/31/installing-ioncube-loader-on-whmcpanel/">Installing Ioncube Loader on WHM/cPanel</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2012-08-31T00:00:00+05:30" pubdate data-updated="true">Aug 31<span>st</span>, 2012</time> - 
        


        
         | <a href="/blog/2012/08/31/installing-ioncube-loader-on-whmcpanel/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Download It</h2>

<pre><code>wget http://downloads.ioncube.com/loader_download /ioncube_loaders_lin_x86.tar.gz
tar zfx ioncube_loaders_lin_x86.tar.gz
mv ioncube /usr/local
</code></pre>

<p>Find PHP.ini</p>

<pre><code>php -i | grep php.ini
</code></pre>

<p>Edit your php.ini</p>

<pre><code>pico /usr/local/lib/php.ini or nano /usr/local/lib/php.ini
</code></pre>

<p>Add Extension to PHP.ini</p>

<pre><code>zend_extension=/usr/local/ioncube/ioncube_loader_lin_5.3.so
</code></pre>

<p>Restart Apache</p>

<pre><code>service httpd restart
</code></pre>

<p>Check</p>

<pre><code>php -v
PHP 5.3.10 (cli) (built: Aug 10 2009 05:47:14)
Copyright (c) 1997-2009 The PHP Group
Zend Engine v2.2.0, Copyright (c) 1998-2009 Zend Technologies
Copyright (c) 2002-2009, by ionCube Ltd.
with Suhosin v0.9.27, Copyright (c) 2007, by SektionEins GmbH
</code></pre>

<p><a href="http://facebook.com/manusajth">Manu</a></p>

<p><a href="www.codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/19/nginx-php-important-security-issue/">Nginx & PHP Important Security Issue</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2012-08-19T00:00:00+05:30" pubdate data-updated="true">Aug 19<span>th</span>, 2012</time> - 
        


        
         | <a href="/blog/2012/08/19/nginx-php-important-security-issue/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A critical security issue has recently been pointed out on servers that run Nginx and PHP via FastCGI. The issue allows anyone to execute their own PHP code on the system, I don&rsquo;t think I have to remind you of the consequences this could have. I will attempt to provide a simple explanation of the issue and more importantly how to fix it.</p>

<h2>What is the issue?</h2>

<p>I would like to begin by discussing the nature of the problem: it is not caused by Nginx itself &ndash; it is not a bug or a security breach in itself. Actually, it is the way that people usually configure Nginx FastCGI options to work with PHP, and how PHP reacts to that configuration. Pretty much everyone adopts the same configuration without being aware of the issue.</p>

<p>The issue itself can be understood simply, then I will explain why PHP behaves that way. Most dynamic websites allow for a reason or another uploading of files. Say, I&rsquo;m running a forum-based community, users can upload images to use as personal photo or avatar. The photo gets uploaded and you get the following URL:</p>

<p><code><em><a href="http://myforum.com/uploads/photo1234.jpg">http://myforum.com/uploads/photo1234.jpg</a></em></code></p>

<p>The breach consists in appending an additional path element to the URL, making it end in .php:</p>

<p><code><em><a href="http://myforum.com/uploads/photo1234.jpg/anything.php">http://myforum.com/uploads/photo1234.jpg/anything.php</a></em></code></p>

<p>Under certain conditions (and unfortunately with default settings), your photo1234.jpg gets processed as PHP file. So you could upload a PHP script renamed as .jpg, upload the image, then execute the script on the server.</p>

<p>If you want to know instantly if your server is vulnerable to this attack, there is a simple way to know. Find a regular file on your server, such as</p>

<p><code><em><a href="http://myforum.com/robots.txt.">http://myforum.com/robots.txt.</a></em></code></p>

<p>Examine the HTTP headers of the response:</p>

<pre><code>HTTP/1.1 200 OK
Server: nginx/0.7.64
Date: Wed, 26 May 2010 10:56:01 GMT
Content-Type: text/plain
Content-Length: 43
(...)
</code></pre>

<p>Now add /test.php after the URL:</p>

<p><code><em> <a href="http://myforum.com/robots.txt/test.php:">http://myforum.com/robots.txt/test.php:</a> </em></code></p>

<pre><code>HTTP/1.1 200 OK
Server: nginx/0.7.64
Date: Wed, 26 May 2010 10:56:01 GMT
Content-Type: text/plain
Content-Length: 43
(...)
X-Powered-By: PHP/5.2.3
</code></pre>

<p>The X-Powered-By header was added by PHP which shows that the file was processed by PHP. Now visit that URL <a href="http://myforum.com/robots.txt/test.php">http://myforum.com/robots.txt/test.php</a> in your web browser. What do you see:</p>

<ul>
<li>do you see the robots.txt file ? if so, your server is vulnerable.</li>
<li>do you see an error page (403, 404, 500, 502&hellip;) or just a simple message &ldquo;No input file specified&rdquo; ? if so, your server is not affected by the problem.</li>
</ul>


<h2>Why does this happen?</h2>

<p>There are two main reasons why this happens. First let&rsquo;s have a look at the data Nginx transmits to PHP.
A regular FastCGI/PHP configuration would be as follows:</p>

<pre><code>fastcgi_pass 127.0.0.1:9000;
fastcgi_index index.php;
fastcgi_param SCRIPT_FILENAME &lt;em&gt;/var/www/vhosts/myforum.com/httpdocs$fastcgi_script_name;&lt;/em&gt;
fastcgi_param PATH_INFO $fastcgi_script_name;
</code></pre>

<p>When requesting an URL like<em> <a href="http://myforum.com/uploads/photo1234.jpg/anything.php">http://myforum.com/uploads/photo1234.jpg/anything.php</a></em> to Nginx, here is the data that gets sent:</p>

<pre><code>fastcgi_param SCRIPT_FILENAME &lt;em&gt;/var/www/vhosts/myforum.com/httpdocs/uploads/photo1234.jpg/anything.php;&lt;/em&gt;
fastcgi_param PATH_INFO /robots.txt/test.php;
</code></pre>

<p>So far, no problem. PHP is supposed to load a file anything.php, in the directory <em>/var/www/vhosts/myforum.com/httpdocs/uploads/photo1234.jpg/.</em> Naturally, this directory should not exist, and anything.php shouldn&rsquo;t exist either, so we should be getting a 404 error.
However, that&rsquo;s where the problem comes in. The PHP option cgi.fix_pathinfo, when enabled (and it is usually enabled by default) will transform these two parameters. The SCRIPT_FILENAME becomes <em>/var/www/vhosts/myforum.com/httpdocs/uploads/photo1234.jpg,</em> which means the .jpg file actually becomes the request filename, and it gets treated as PHP. And PATH_INFO becomes /anything.php. The original purpose of this option was to allow such kind of URLs: index.php/param1/param2/&hellip;
But when combined with Nginx, this turns into a major issue.</p>

<h2>How do I fix it?</h2>

<p>Well, the simplest thing you can do is open up your php.ini configuration file, and insert this directive in the main section:</p>

<pre><code>cgi.fix_pathinfo=0
</code></pre>

<p>Then restart PHP-FPM or whatever FastCGI manager you&rsquo;re using.</p>

<p>Unfortunately in some cases that is not possible a solution, since perhaps other scripts on your server make the most of this option. So you could do mainly employ two different solutions on the Nginx side.</p>

<p>First, you could check that the requested URI actually exists, before passing the request via FastCGI:</p>

<pre><code>location \.php$ {
    if (!-f $request_filename) {
        return 404;
    }
    fastcgi_pass 127.0.0.1:9000;
    [...]
}
</code></pre>

<p>This solution is efficient and a few of us Nginx+PHP have retained it.
Otherwise, if you think it&rsquo;s too consuming in terms of resources, you could check the URI to meet the following requirements:
&ndash; if the URI contains a dot, then a slash (example: image.jpg/&hellip;)
&ndash; if the URI ends with &ldquo;.php&rdquo; (example: image.jpg/test.php)
&ndash; then return a 403 error.</p>

<pre><code>location ~ \..*/.*\.php$ {
    return 403;
}
location ~ \.php$ {
    fastcgi_pass 127.0.0.1:9000;
    ...
}
</code></pre>

<p>Alternatively, you could make sure that PHP is only enabled in certain directories, where file uploads are not allowed:</p>

<pre><code>location ~ ^/(scripts|sources|src)/.*\.php$ {
    fastcgi_pass 127.0.0.1:9000;
    ...
}
</code></pre>

<p><a href="http://facebook.com/manusajth">Manu</a></p>

<p><a href="www.codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/13/my-hack-cupids-buzz-at-yahoo-open-hack-2012/">My Hack (Cupid&#8217;s Buzz) at Yahoo! Open Hack 2012</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2012-08-13T00:00:00+05:30" pubdate data-updated="true">Aug 13<span>th</span>, 2012</time> - 
        


        
         | <a href="/blog/2012/08/13/my-hack-cupids-buzz-at-yahoo-open-hack-2012/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>What would you feel when you accidentally come across that dream boy/girl of yours ? You would be definitely yearning to know more about that person (Ofcourse, I know you would&hellip; :D)</p>

<p>Follow her&hellip; Friend her&hellip; and commit her :D</p>

<p>I mean..</p>

<p>Follow her on Twitter&hellip; Make him/her your Facebook friend&hellip; Commit n collaborate with him/her on Github (or whatever&hellip;), All in just one single click&hellip; ;)</p>

<p>Here I present,&lsquo;Cupid&rsquo;s Buzz&rsquo;,before all single boys and girls&hellip; Chase your &lsquo;dream&rsquo; :D&hellip;</p>

<p>A hack you would once feel thankful to&hellip; ;)</p>

<p>This hack was submitted to Yahoo! Open Hack 2012 by my team &ndash; Team Syntax Error.
<a href="http://hacks.developer.yahoo.com/hack/yahoo-open-hack-india-2012/cupids-buzz/event_2/hack_112"><a href="http://hacks.developer.yahoo.com/hack/yahoo-open-hack-india-2012/cupids-buzz/event_2/hack_112">http://hacks.developer.yahoo.com/hack/yahoo-open-hack-india-2012/cupids-buzz/event_2/hack_112</a></a></p>

<p>Demo: <a href="http://codingarena.in/sandbox/cupid/"><a href="http://codingarena.in/sandbox/cupid/">http://codingarena.in/sandbox/cupid/</a></a></p>

<p>Code : <a href="http://github.com/manusajith/cupid"><a href="http://github.com/manusajith/cupid">http://github.com/manusajith/cupid</a></a></p>

<p>and <a href="http://bitbucket.org/manusajith/cupid"><a href="http://bitbucket.org/manusajith/cupid">http://bitbucket.org/manusajith/cupid</a></a></p>

<p><a href="http://facebook.com/manusajth">Manu</a></p>

<p><a href="www.codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/09/programmers-cheat-sheets-via-terminal/">Programmer&#8217;s Cheat Sheets via Terminal</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2012-07-09T00:00:00+05:30" pubdate data-updated="true">Jul 9<span>th</span>, 2012</time> - 
        


        
         | <a href="/blog/2012/07/09/programmers-cheat-sheets-via-terminal/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Cheat sheets are basically wiki pages accessible from the command line. You can browse, add, or edit cheat sheets. Try to keep them concise. For a style guide, check out the cheat cheat sheet.</p>

<h3>Get started:</h3>

<pre><code>$ sudo gem install cheat
$ cheat strftime
</code></pre>

<p>A magnificent cheat sheet for Ruby&rsquo;s strftime method will be printed to your terminal.</p>

<h3>To get some help on cheat itself:</h3>

<pre><code>$ cheat cheat
</code></pre>

<p>How meta.</p>

<p>To access a cheat sheet, simply pass the program the desired sheet&rsquo;s name:</p>

<pre><code>$ cheat &lt;sheet name&gt;
</code></pre>

<p><a href="http://facebook.com/manusajith">Manu</a></p>

<p><a href="http://codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/29/adobe-flash-player-11-2-on-fedora-1716-centosrhel-6-25-8/">Install Adobe Flash Player 11.2 on Fedora 17/16, CentOS/RHEL 6.2/5.8</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/110007023591027468321?rel=author"><span class="fn">Manu S Ajith</span></a></span>
  

 - 
        








  


<time datetime="2012-06-29T00:00:00+05:30" pubdate data-updated="true">Jun 29<span>th</span>, 2012</time> - 
        


        
         | <a href="/blog/2012/06/29/adobe-flash-player-11-2-on-fedora-1716-centosrhel-6-25-8/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Install Adobe YUM Repository RPM package</h2>

<p>Adobe Repository 32-bit x86</p>

<pre><code>rpm -ivh http://linuxdownload.adobe.com/adobe-release/adobe-release-i386-1.0-1.noarch.rpm
rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-adobe-linux
</code></pre>

<p>Adobe Repository 64-bit x86_64</p>

<pre><code>rpm -ivh http://linuxdownload.adobe.com/adobe-release/adobe-release-x86_64-1.0-1.noarch.rpm
rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-adobe-linux
</code></pre>

<h2>Update Repositories</h2>

<pre><code>yum check-update
</code></pre>

<h3>Install Adobe Flash Player 11.2 on Fedora 17/16/15/14/13/12, CentOS 6.2/6.1/6 and Red Hat (RHEL) 6.2/6.1/6</h3>

<p>Fedora 17/16/15/14/13/12, CentOS 6 and Red Hat (RHEL) 6 32-bit and 64-bit version
yum install flash-plugin nspluginwrapper alsa-plugins-pulseaudio libcurl</p>

<p>Install Adobe Flash Player 11.2 on CentOS 5.8 and Red Hat (RHEL) 5.8
CentOS and Red Hat 32-bit and 64-bit version</p>

<pre><code>yum groupinstall "Sound and Video"
yum install flash-plugin nspluginwrapper curl
</code></pre>

<p><a href="http://facebook.com/manusajith">Manu</a></p>

<p><a href="http://www.codingarena.in">www.codingarena.in</a></p>

<p><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a> | <a href="http://github.com/manusajith" title="Github">@github</a></p>
</div>
  
  


</div>

      </article>
    
    </div>
      <div class="row">
        <ul class="pager">
          
            <li class="previous">
              <a href="/blog/page/2/">&larr; Older</a>
            </li>
          
          
        </ul>
      </div>
  </div>
</div>


  <div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/blog/2013/04/08/pdf-generation-in-rails-with-wicked_pdf/">PDF generation in Rails</a>
        </li>
      
        <li>
          <a href="/blog/2012/11/22/google-code-jam/">Google Code Jam</a>
        </li>
      
        <li>
          <a href="/blog/2012/10/30/154-server-monotoring-script/">Simple Server monitoring Shell Script</a>
        </li>
      
        <li>
          <a href="/blog/2012/09/12/reset-root-password-in-xampp/">Reset root password in XAMPP</a>
        </li>
      
        <li>
          <a href="/blog/2012/09/01/ubuntu-bonding-and-link-aggregation/">Ubuntu Bonding and link aggregation</a>
        </li>
      
    </ul>
    <h2><a href="/blog/archives">archives</a></h2>
  </div>
  <div class="span3">
    

  </div>
  <div class="span4">
    
<h2>twitter</h2>
<a href="https://twitter.com/manusajith" class="twitter-follow-button" data-show-count="true" data-lang="en">Follow @manusajith</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<div class="tweet" data-twitter-user="manusajith">
</div>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/manusajith/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>





<a href="http://www.linkedin.com/in/manusajith" rel="tooltip" title="Linkedin"><img class="social_icon" title="Linkedin" alt="Linkedin icon" src="/images/glyphicons_377_linked_in.png"></a>



<a href="http://twitter.com/manusajith" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>



<a href="https://plus.google.com/110007023591027468321?rel=author" rel="tooltip" title="Google Plus"><img class="social_icon" title="Google Plus" alt="Google Plus icon" src="/images/glyphicons_386_google_plus.png"></a>





<h2>contact at</h2>
<a href="mailto:neo@codingarena.in">neo@codingarena.in</a>


  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">Codingarena</a>
  - Copyright &copy; 2013 - Manu S Ajith
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
</p>

  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>


<script type="text/javascript">
      var disqus_shortname = 'codingarenablog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
